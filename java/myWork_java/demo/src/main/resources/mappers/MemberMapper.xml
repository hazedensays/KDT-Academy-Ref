<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mapperInterface.MemberMapper">

<!-- ** Jo_List 추가 ==============================================================-->
<select id="joList" resultType="com.example.demo.domain.MemberDTO">
	select * from member where jno=#{jno}
</select>

<!-- ** selectList ==============================================================-->
<select id="selectList" resultType="com.example.demo.domain.MemberDTO">
	select * from member
</select>

<!-- ** selectOne ==============================================================
	=> seq의 비교값 할당    -->
<select id="selectOne" resultType="com.example.demo.domain.MemberDTO">
	select * from member where id = #{id}
</select>


<!-- ** insert ============================================================== -->
<insert id="insert">
	insert into member
	values (#{id}, #{password}, #{name}, #{age}, #{jno}, #{info}, #{point}, #{birthday}, #{rid}, #{uploadfile})
</insert>

<!-- ** update ==============================================================
		=> password 수정과 나머지 컬럼 수정을 분리함 
		=> image 추가 후 사용:  , uploadfile=#{uploadfile}  	-->

	<update id="update">
		update member set
		<if test="password!=null">
			password=#{password}
		</if>
		<if test="password==null">
			name=#{name}, age=#{age}, jno=#{jno}, info=#{info},
			point=#{point},
			birthday=#{birthday}, rid=#{rid}, uploadfile=#{uploadfile}
		</if>
		where id=#{id}
	</update>

<!-- ** delete ============================================================== -->
<delete id="delete">
	delete from member where id = #{id}
</delete>

</mapper>